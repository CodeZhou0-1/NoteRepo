# One · 一户一档项目的任务点

####                                                                                                         -- ck 表示暂时已完成

###  1. 关于数据校验的问题（JSR3）-ck 

> - 试一下数据库后端的JSR3的数据校验

### 2.关于数据校验异常的抛出  -ck 

##### 备注：（修改了异常处理类的部分代码要全部同步）

> - 去看一下ruoyi的异常抛出是在哪里抛出的 把数据校验的提示信息可以传到前端页面上

### 3.图片上传的功能实现

#### 3.1增删改查基本功能的实现 

> - 上传图片：遇到一个bug 添加的时候id没有传到后端 已解决_具体解决见Bug解决
> - 删除图片：遇到删除失败，原因是id没保存到数据库，而sql语句是根据id删除数据的

> - 编辑图片：同上

#### 3.2 下载图片的功能实现 

> - Bug：点击下载之后浏览器下载的文件内容为空  待解决
> - Bug原因：点击下载的路径并没有传到后端的Controller方法中

#### 3.3 删除功能的完善  -ck

##### 备注：（修改了文件工具类的部分代码要全部同步）

> - 点击删除图片后只有数据的保存的文件名称和路径删除 但是文件并没有一并删除 后续要补充再把保存的文件也删除掉



### 4.	项目配置文件修改的地方

> - 验证码开关在测试的时候已经关掉
> - thymeleaf缓存上线的时候可以打开
> - swagger的开关在上线的时候可以关掉



### 5. 关于数据库的id插入   --ck 

#####      备注：（修改了异常处理类的部分代码要全部同步）采取了方案1发现可行，记得数据库每个表的id主键修改

> - 问题：id不能设置为主键，一旦id设置为主键，当生成代码的时候，id无法在页面上显示成功 
> - 方案1：看可不可以代码生成之后，后续再添加主键设置（但是报错信息可能不好返回前端，异常处理要稍微弄一下）
> - 方案2：当新增数据时候，检查数据的id是否与数据库重复，后端根据id查询，所以如果有重复的会报错，所以需要手动添加检查是否重复的代码



### 6.关于前端

#### 6.1 需要修改前端的页面样式

> - 边框颜色
> - 登录界面
> - 头像以及logo
> - 一些工具以及实例演示，首页等链接到时候成品需要删除部分

#### 6.2 关于文件上传的前端问题
> - 文件上传的时候用upload方法,此方法请求只携带文件路径的值,其他的值目前需要手动一个个的增加,看是否有其他方法整个提交的.

### 7.测试

> - 测试每个表的数据全部填充看是否会有错
> - 测试每个表数据输入错误的时候是否前端显示提示信息
> - 关于每个实体类加相关注解，以及全局代码的修改



# Two · 一户一档项目Bug目录

## 1. 部分数据库表插入中文出错  -ck

> - Bug发现:胡小江
> - Bug原因:黄永辉建表失误,导致编码错误
> - Bug解决:黄海燕
> - Bug解决时间:2小时

## 2. 文件上传的时候id传不到后端 -ck

> - Bug原因：前端页面设置好id之后，没有再新增的文件上传方法中将id的值添加进去，原方法中作者并没有添加id这个值，需要自己手动加

## 3. 当选中数据点击修改的失败报500错误

> - Bug描述：有些数据修改会报错有些刚加的数据修改不会，但是点击编辑的时候可以都无异常
> - 方案1：将修改的的链接换成编辑的链接试一下
> - 方案2：直接删除修改的按钮
> - 方案3: 后端报xss过滤错误，可能哪个地方不符合，测试半小时左右未找到原因，先放弃此方案

## 4. 当选中某些数据删除的时候提示操作失败

> - Bug描述：如题
> - Bug原因：查看后台日志显示，发现不能删除的数据是删除的条件拿到的不是id，具体可以再打断点
> - 方案1：好像有些点击单个删除的时候可以删除，可以考虑页面提示无法选中删除，让用户单个删除



# Three · 一户一档项目成员任务完成量表格（持续更新)

#### 4.1数据表的建立:

|  成员  |               所建表               | 建表总数（张） | 建表总字段数（个） | rank |
| :----: | :--------------------------------: | :------------: | :----------------: | :--: |
| 陈昌西 | 5-1 7-1 8 10-1 10-2 10-3 10-4 10-5 |       8        |       约345        |  1   |
| 黄海燕 |               4 7-2                |       2        |       约235        |  2   |
| 胡小江 |               5-2 6                |       2        |       约100        |  3   |
| 黄永辉 |               11 12                |       2        |        约65        |  4   |
|  周彪  |                 3                  |       1        |        约45        |  5   |

> - 数据统计：黄海燕
> - 数据说明：如果表有误差请及时说明
> - 关于建表总字段数的统计：有几个表字段几乎不重复比较不太容易建，所以统计的时候建立稍微难点的表的1个字段计算为了1.5个。

#### 4.2 代码的生成:

| 成员   | 所生成表              | 生成代码包数量 | 总字段数量 | rank |
| ------ | --------------------- | -------------- | ---------- | ---- |
| 黄海燕 | 7-1 7-2  10-2 10-4    | 4              | 198        | 1    |
| 黄永辉 | 10-1  10-3 10-5 11 12 | 5              | 197        | 2    |
| 胡小江 | 5-1 5-2 6             | 3              | 77         | 3    |
| 陈昌西 | 8                     | 1              | 75         | 4    |
| 周彪   | 3                     | 1              | 30         | 5    |

> - 数据统计：黄海燕
> - 表4暂时报错中，未做出来，暂未记录到表中